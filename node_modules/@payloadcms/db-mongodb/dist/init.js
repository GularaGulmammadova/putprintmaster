/* eslint-disable no-param-reassign */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "init", {
    enumerable: true,
    get: function() {
        return init;
    }
});
const _mongoose = /*#__PURE__*/ _interop_require_default(require("mongoose"));
const _mongooseaggregatepaginatev2 = /*#__PURE__*/ _interop_require_default(require("mongoose-aggregate-paginate-v2"));
const _mongoosepaginatev2 = /*#__PURE__*/ _interop_require_default(require("mongoose-paginate-v2"));
const _versions = require("payload/versions");
const _buildCollectionSchema = /*#__PURE__*/ _interop_require_default(require("./models/buildCollectionSchema"));
const _buildGlobalModel = require("./models/buildGlobalModel");
const _buildSchema = /*#__PURE__*/ _interop_require_default(require("./models/buildSchema"));
const _buildQuery = /*#__PURE__*/ _interop_require_default(require("./queries/buildQuery"));
const _getDBName = require("./utilities/getDBName");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const init = async function init() {
    this.payload.config.collections.forEach((collection)=>{
        const schema = (0, _buildCollectionSchema.default)(collection, this);
        if (collection.versions) {
            const versionModelName = (0, _getDBName.getDBName)({
                config: collection,
                versions: true
            });
            const versionCollectionFields = (0, _versions.buildVersionCollectionFields)(collection);
            const versionSchema = (0, _buildSchema.default)(this, versionCollectionFields, {
                disableUnique: true,
                draftsEnabled: true,
                indexSortableFields: this.payload.config.indexSortableFields,
                options: {
                    minimize: false,
                    timestamps: false,
                    ...this.schemaOptions,
                    ...this.collectionOptions[collection.slug]?.schemaOptions || {}
                }
            });
            versionSchema.plugin(_mongoosepaginatev2.default, {
                useEstimatedCount: true
            }).plugin((0, _buildQuery.default)({
                collectionSlug: collection.slug,
                versionsFields: versionCollectionFields
            }));
            if (collection.versions?.drafts) {
                versionSchema.plugin(_mongooseaggregatepaginatev2.default);
            }
            const model = _mongoose.default.model(versionModelName, versionSchema, this.autoPluralization === true ? undefined : versionModelName);
            this.versions[collection.slug] = model;
        }
        const model = _mongoose.default.model((0, _getDBName.getDBName)({
            config: collection
        }), schema, this.autoPluralization === true ? undefined : collection.slug);
        this.collections[collection.slug] = model;
        // TS expect error only needed until we launch 2.0.0
        // eslint-disable-next-line @typescript-eslint/ban-ts-comment
        this.payload.collections[collection.slug] = {
            config: collection
        };
    });
    const model = (0, _buildGlobalModel.buildGlobalModel)(this);
    this.globals = model;
    this.payload.config.globals.forEach((global)=>{
        if (global.versions) {
            const versionModelName = (0, _getDBName.getDBName)({
                config: global,
                versions: true
            });
            const versionGlobalFields = (0, _versions.buildVersionGlobalFields)(global);
            const versionSchema = (0, _buildSchema.default)(this, versionGlobalFields, {
                disableUnique: true,
                draftsEnabled: true,
                indexSortableFields: this.payload.config.indexSortableFields,
                options: {
                    minimize: false,
                    timestamps: false,
                    ...this.schemaOptions,
                    ...this.globalsOptions.schemaOptions || {}
                }
            });
            versionSchema.plugin(_mongoosepaginatev2.default, {
                useEstimatedCount: true
            }).plugin((0, _buildQuery.default)({
                versionsFields: versionGlobalFields
            }));
            const versionsModel = _mongoose.default.model(versionModelName, versionSchema, versionModelName);
            this.versions[global.slug] = versionsModel;
        }
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbml0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5pbXBvcnQgdHlwZSB7IFBhZ2luYXRlT3B0aW9ucyB9IGZyb20gJ21vbmdvb3NlJ1xuaW1wb3J0IHR5cGUgeyBJbml0IH0gZnJvbSAncGF5bG9hZC9kYXRhYmFzZSdcbmltcG9ydCB0eXBlIHsgU2FuaXRpemVkQ29sbGVjdGlvbkNvbmZpZyB9IGZyb20gJ3BheWxvYWQvdHlwZXMnXG5cbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcbmltcG9ydCBtb25nb29zZUFnZ3JlZ2F0ZVBhZ2luYXRlIGZyb20gJ21vbmdvb3NlLWFnZ3JlZ2F0ZS1wYWdpbmF0ZS12MidcbmltcG9ydCBwYWdpbmF0ZSBmcm9tICdtb25nb29zZS1wYWdpbmF0ZS12MidcbmltcG9ydCB7IGJ1aWxkVmVyc2lvbkNvbGxlY3Rpb25GaWVsZHMsIGJ1aWxkVmVyc2lvbkdsb2JhbEZpZWxkcyB9IGZyb20gJ3BheWxvYWQvdmVyc2lvbnMnXG5cbmltcG9ydCB0eXBlIHsgTW9uZ29vc2VBZGFwdGVyIH0gZnJvbSAnLidcbmltcG9ydCB0eXBlIHsgQ29sbGVjdGlvbk1vZGVsIH0gZnJvbSAnLi90eXBlcydcblxuaW1wb3J0IGJ1aWxkQ29sbGVjdGlvblNjaGVtYSBmcm9tICcuL21vZGVscy9idWlsZENvbGxlY3Rpb25TY2hlbWEnXG5pbXBvcnQgeyBidWlsZEdsb2JhbE1vZGVsIH0gZnJvbSAnLi9tb2RlbHMvYnVpbGRHbG9iYWxNb2RlbCdcbmltcG9ydCBidWlsZFNjaGVtYSBmcm9tICcuL21vZGVscy9idWlsZFNjaGVtYSdcbmltcG9ydCBnZXRCdWlsZFF1ZXJ5UGx1Z2luIGZyb20gJy4vcXVlcmllcy9idWlsZFF1ZXJ5J1xuaW1wb3J0IHsgZ2V0REJOYW1lIH0gZnJvbSAnLi91dGlsaXRpZXMvZ2V0REJOYW1lJ1xuXG5leHBvcnQgY29uc3QgaW5pdDogSW5pdCA9IGFzeW5jIGZ1bmN0aW9uIGluaXQodGhpczogTW9uZ29vc2VBZGFwdGVyKSB7XG4gIHRoaXMucGF5bG9hZC5jb25maWcuY29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbjogU2FuaXRpemVkQ29sbGVjdGlvbkNvbmZpZykgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IGJ1aWxkQ29sbGVjdGlvblNjaGVtYShjb2xsZWN0aW9uLCB0aGlzKVxuXG4gICAgaWYgKGNvbGxlY3Rpb24udmVyc2lvbnMpIHtcbiAgICAgIGNvbnN0IHZlcnNpb25Nb2RlbE5hbWUgPSBnZXREQk5hbWUoeyBjb25maWc6IGNvbGxlY3Rpb24sIHZlcnNpb25zOiB0cnVlIH0pXG5cbiAgICAgIGNvbnN0IHZlcnNpb25Db2xsZWN0aW9uRmllbGRzID0gYnVpbGRWZXJzaW9uQ29sbGVjdGlvbkZpZWxkcyhjb2xsZWN0aW9uKVxuXG4gICAgICBjb25zdCB2ZXJzaW9uU2NoZW1hID0gYnVpbGRTY2hlbWEodGhpcywgdmVyc2lvbkNvbGxlY3Rpb25GaWVsZHMsIHtcbiAgICAgICAgZGlzYWJsZVVuaXF1ZTogdHJ1ZSxcbiAgICAgICAgZHJhZnRzRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgaW5kZXhTb3J0YWJsZUZpZWxkczogdGhpcy5wYXlsb2FkLmNvbmZpZy5pbmRleFNvcnRhYmxlRmllbGRzLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgbWluaW1pemU6IGZhbHNlLFxuICAgICAgICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxuICAgICAgICAgIC4uLnRoaXMuc2NoZW1hT3B0aW9ucyxcbiAgICAgICAgICAuLi4odGhpcy5jb2xsZWN0aW9uT3B0aW9uc1tjb2xsZWN0aW9uLnNsdWddPy5zY2hlbWFPcHRpb25zIHx8IHt9KSxcbiAgICAgICAgfSxcbiAgICAgIH0pXG5cbiAgICAgIHZlcnNpb25TY2hlbWEucGx1Z2luPGFueSwgUGFnaW5hdGVPcHRpb25zPihwYWdpbmF0ZSwgeyB1c2VFc3RpbWF0ZWRDb3VudDogdHJ1ZSB9KS5wbHVnaW4oXG4gICAgICAgIGdldEJ1aWxkUXVlcnlQbHVnaW4oe1xuICAgICAgICAgIGNvbGxlY3Rpb25TbHVnOiBjb2xsZWN0aW9uLnNsdWcsXG4gICAgICAgICAgdmVyc2lvbnNGaWVsZHM6IHZlcnNpb25Db2xsZWN0aW9uRmllbGRzLFxuICAgICAgICB9KSxcbiAgICAgIClcblxuICAgICAgaWYgKGNvbGxlY3Rpb24udmVyc2lvbnM/LmRyYWZ0cykge1xuICAgICAgICB2ZXJzaW9uU2NoZW1hLnBsdWdpbihtb25nb29zZUFnZ3JlZ2F0ZVBhZ2luYXRlKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBtb2RlbCA9IG1vbmdvb3NlLm1vZGVsKFxuICAgICAgICB2ZXJzaW9uTW9kZWxOYW1lLFxuICAgICAgICB2ZXJzaW9uU2NoZW1hLFxuICAgICAgICB0aGlzLmF1dG9QbHVyYWxpemF0aW9uID09PSB0cnVlID8gdW5kZWZpbmVkIDogdmVyc2lvbk1vZGVsTmFtZSxcbiAgICAgICkgYXMgQ29sbGVjdGlvbk1vZGVsXG4gICAgICB0aGlzLnZlcnNpb25zW2NvbGxlY3Rpb24uc2x1Z10gPSBtb2RlbFxuICAgIH1cblxuICAgIGNvbnN0IG1vZGVsID0gbW9uZ29vc2UubW9kZWwoXG4gICAgICBnZXREQk5hbWUoeyBjb25maWc6IGNvbGxlY3Rpb24gfSksXG4gICAgICBzY2hlbWEsXG4gICAgICB0aGlzLmF1dG9QbHVyYWxpemF0aW9uID09PSB0cnVlID8gdW5kZWZpbmVkIDogY29sbGVjdGlvbi5zbHVnLFxuICAgICkgYXMgQ29sbGVjdGlvbk1vZGVsXG4gICAgdGhpcy5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uLnNsdWddID0gbW9kZWxcblxuICAgIC8vIFRTIGV4cGVjdCBlcnJvciBvbmx5IG5lZWRlZCB1bnRpbCB3ZSBsYXVuY2ggMi4wLjBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgdGhpcy5wYXlsb2FkLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb24uc2x1Z10gPSB7XG4gICAgICBjb25maWc6IGNvbGxlY3Rpb24sXG4gICAgfVxuICB9KVxuXG4gIGNvbnN0IG1vZGVsID0gYnVpbGRHbG9iYWxNb2RlbCh0aGlzKVxuICB0aGlzLmdsb2JhbHMgPSBtb2RlbFxuXG4gIHRoaXMucGF5bG9hZC5jb25maWcuZ2xvYmFscy5mb3JFYWNoKChnbG9iYWwpID0+IHtcbiAgICBpZiAoZ2xvYmFsLnZlcnNpb25zKSB7XG4gICAgICBjb25zdCB2ZXJzaW9uTW9kZWxOYW1lID0gZ2V0REJOYW1lKHsgY29uZmlnOiBnbG9iYWwsIHZlcnNpb25zOiB0cnVlIH0pXG5cbiAgICAgIGNvbnN0IHZlcnNpb25HbG9iYWxGaWVsZHMgPSBidWlsZFZlcnNpb25HbG9iYWxGaWVsZHMoZ2xvYmFsKVxuXG4gICAgICBjb25zdCB2ZXJzaW9uU2NoZW1hID0gYnVpbGRTY2hlbWEodGhpcywgdmVyc2lvbkdsb2JhbEZpZWxkcywge1xuICAgICAgICBkaXNhYmxlVW5pcXVlOiB0cnVlLFxuICAgICAgICBkcmFmdHNFbmFibGVkOiB0cnVlLFxuICAgICAgICBpbmRleFNvcnRhYmxlRmllbGRzOiB0aGlzLnBheWxvYWQuY29uZmlnLmluZGV4U29ydGFibGVGaWVsZHMsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBtaW5pbWl6ZTogZmFsc2UsXG4gICAgICAgICAgdGltZXN0YW1wczogZmFsc2UsXG4gICAgICAgICAgLi4udGhpcy5zY2hlbWFPcHRpb25zLFxuICAgICAgICAgIC4uLih0aGlzLmdsb2JhbHNPcHRpb25zLnNjaGVtYU9wdGlvbnMgfHwge30pLFxuICAgICAgICB9LFxuICAgICAgfSlcblxuICAgICAgdmVyc2lvblNjaGVtYVxuICAgICAgICAucGx1Z2luPGFueSwgUGFnaW5hdGVPcHRpb25zPihwYWdpbmF0ZSwgeyB1c2VFc3RpbWF0ZWRDb3VudDogdHJ1ZSB9KVxuICAgICAgICAucGx1Z2luKGdldEJ1aWxkUXVlcnlQbHVnaW4oeyB2ZXJzaW9uc0ZpZWxkczogdmVyc2lvbkdsb2JhbEZpZWxkcyB9KSlcblxuICAgICAgY29uc3QgdmVyc2lvbnNNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKFxuICAgICAgICB2ZXJzaW9uTW9kZWxOYW1lLFxuICAgICAgICB2ZXJzaW9uU2NoZW1hLFxuICAgICAgICB2ZXJzaW9uTW9kZWxOYW1lLFxuICAgICAgKSBhcyBDb2xsZWN0aW9uTW9kZWxcbiAgICAgIHRoaXMudmVyc2lvbnNbZ2xvYmFsLnNsdWddID0gdmVyc2lvbnNNb2RlbFxuICAgIH1cbiAgfSlcbn1cbiJdLCJuYW1lcyI6WyJpbml0IiwicGF5bG9hZCIsImNvbmZpZyIsImNvbGxlY3Rpb25zIiwiZm9yRWFjaCIsImNvbGxlY3Rpb24iLCJzY2hlbWEiLCJidWlsZENvbGxlY3Rpb25TY2hlbWEiLCJ2ZXJzaW9ucyIsInZlcnNpb25Nb2RlbE5hbWUiLCJnZXREQk5hbWUiLCJ2ZXJzaW9uQ29sbGVjdGlvbkZpZWxkcyIsImJ1aWxkVmVyc2lvbkNvbGxlY3Rpb25GaWVsZHMiLCJ2ZXJzaW9uU2NoZW1hIiwiYnVpbGRTY2hlbWEiLCJkaXNhYmxlVW5pcXVlIiwiZHJhZnRzRW5hYmxlZCIsImluZGV4U29ydGFibGVGaWVsZHMiLCJvcHRpb25zIiwibWluaW1pemUiLCJ0aW1lc3RhbXBzIiwic2NoZW1hT3B0aW9ucyIsImNvbGxlY3Rpb25PcHRpb25zIiwic2x1ZyIsInBsdWdpbiIsInBhZ2luYXRlIiwidXNlRXN0aW1hdGVkQ291bnQiLCJnZXRCdWlsZFF1ZXJ5UGx1Z2luIiwiY29sbGVjdGlvblNsdWciLCJ2ZXJzaW9uc0ZpZWxkcyIsImRyYWZ0cyIsIm1vbmdvb3NlQWdncmVnYXRlUGFnaW5hdGUiLCJtb2RlbCIsIm1vbmdvb3NlIiwiYXV0b1BsdXJhbGl6YXRpb24iLCJ1bmRlZmluZWQiLCJidWlsZEdsb2JhbE1vZGVsIiwiZ2xvYmFscyIsImdsb2JhbCIsInZlcnNpb25HbG9iYWxGaWVsZHMiLCJidWlsZFZlcnNpb25HbG9iYWxGaWVsZHMiLCJnbG9iYWxzT3B0aW9ucyIsInZlcnNpb25zTW9kZWwiXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiJBQUFBLG9DQUFvQzs7OzsrQkFtQnZCQTs7O2VBQUFBOzs7aUVBZFE7b0ZBQ2lCOzJFQUNqQjswQkFDa0Q7OEVBS3JDO2tDQUNEO29FQUNUO21FQUNROzJCQUNOOzs7Ozs7QUFFbkIsTUFBTUEsT0FBYSxlQUFlQTtJQUN2QyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDQyxXQUFXLENBQUNDLE9BQU8sQ0FBQyxDQUFDQztRQUN2QyxNQUFNQyxTQUFTQyxJQUFBQSw4QkFBcUIsRUFBQ0YsWUFBWSxJQUFJO1FBRXJELElBQUlBLFdBQVdHLFFBQVEsRUFBRTtZQUN2QixNQUFNQyxtQkFBbUJDLElBQUFBLG9CQUFTLEVBQUM7Z0JBQUVSLFFBQVFHO2dCQUFZRyxVQUFVO1lBQUs7WUFFeEUsTUFBTUcsMEJBQTBCQyxJQUFBQSxzQ0FBNEIsRUFBQ1A7WUFFN0QsTUFBTVEsZ0JBQWdCQyxJQUFBQSxvQkFBVyxFQUFDLElBQUksRUFBRUgseUJBQXlCO2dCQUMvREksZUFBZTtnQkFDZkMsZUFBZTtnQkFDZkMscUJBQXFCLElBQUksQ0FBQ2hCLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDZSxtQkFBbUI7Z0JBQzVEQyxTQUFTO29CQUNQQyxVQUFVO29CQUNWQyxZQUFZO29CQUNaLEdBQUcsSUFBSSxDQUFDQyxhQUFhO29CQUNyQixHQUFJLElBQUksQ0FBQ0MsaUJBQWlCLENBQUNqQixXQUFXa0IsSUFBSSxDQUFDLEVBQUVGLGlCQUFpQixDQUFDLENBQUM7Z0JBQ2xFO1lBQ0Y7WUFFQVIsY0FBY1csTUFBTSxDQUF1QkMsMkJBQVEsRUFBRTtnQkFBRUMsbUJBQW1CO1lBQUssR0FBR0YsTUFBTSxDQUN0RkcsSUFBQUEsbUJBQW1CLEVBQUM7Z0JBQ2xCQyxnQkFBZ0J2QixXQUFXa0IsSUFBSTtnQkFDL0JNLGdCQUFnQmxCO1lBQ2xCO1lBR0YsSUFBSU4sV0FBV0csUUFBUSxFQUFFc0IsUUFBUTtnQkFDL0JqQixjQUFjVyxNQUFNLENBQUNPLG9DQUF5QjtZQUNoRDtZQUVBLE1BQU1DLFFBQVFDLGlCQUFRLENBQUNELEtBQUssQ0FDMUJ2QixrQkFDQUksZUFDQSxJQUFJLENBQUNxQixpQkFBaUIsS0FBSyxPQUFPQyxZQUFZMUI7WUFFaEQsSUFBSSxDQUFDRCxRQUFRLENBQUNILFdBQVdrQixJQUFJLENBQUMsR0FBR1M7UUFDbkM7UUFFQSxNQUFNQSxRQUFRQyxpQkFBUSxDQUFDRCxLQUFLLENBQzFCdEIsSUFBQUEsb0JBQVMsRUFBQztZQUFFUixRQUFRRztRQUFXLElBQy9CQyxRQUNBLElBQUksQ0FBQzRCLGlCQUFpQixLQUFLLE9BQU9DLFlBQVk5QixXQUFXa0IsSUFBSTtRQUUvRCxJQUFJLENBQUNwQixXQUFXLENBQUNFLFdBQVdrQixJQUFJLENBQUMsR0FBR1M7UUFFcEMsb0RBQW9EO1FBQ3BELDZEQUE2RDtRQUM3RCxJQUFJLENBQUMvQixPQUFPLENBQUNFLFdBQVcsQ0FBQ0UsV0FBV2tCLElBQUksQ0FBQyxHQUFHO1lBQzFDckIsUUFBUUc7UUFDVjtJQUNGO0lBRUEsTUFBTTJCLFFBQVFJLElBQUFBLGtDQUFnQixFQUFDLElBQUk7SUFDbkMsSUFBSSxDQUFDQyxPQUFPLEdBQUdMO0lBRWYsSUFBSSxDQUFDL0IsT0FBTyxDQUFDQyxNQUFNLENBQUNtQyxPQUFPLENBQUNqQyxPQUFPLENBQUMsQ0FBQ2tDO1FBQ25DLElBQUlBLE9BQU85QixRQUFRLEVBQUU7WUFDbkIsTUFBTUMsbUJBQW1CQyxJQUFBQSxvQkFBUyxFQUFDO2dCQUFFUixRQUFRb0M7Z0JBQVE5QixVQUFVO1lBQUs7WUFFcEUsTUFBTStCLHNCQUFzQkMsSUFBQUEsa0NBQXdCLEVBQUNGO1lBRXJELE1BQU16QixnQkFBZ0JDLElBQUFBLG9CQUFXLEVBQUMsSUFBSSxFQUFFeUIscUJBQXFCO2dCQUMzRHhCLGVBQWU7Z0JBQ2ZDLGVBQWU7Z0JBQ2ZDLHFCQUFxQixJQUFJLENBQUNoQixPQUFPLENBQUNDLE1BQU0sQ0FBQ2UsbUJBQW1CO2dCQUM1REMsU0FBUztvQkFDUEMsVUFBVTtvQkFDVkMsWUFBWTtvQkFDWixHQUFHLElBQUksQ0FBQ0MsYUFBYTtvQkFDckIsR0FBSSxJQUFJLENBQUNvQixjQUFjLENBQUNwQixhQUFhLElBQUksQ0FBQyxDQUFDO2dCQUM3QztZQUNGO1lBRUFSLGNBQ0dXLE1BQU0sQ0FBdUJDLDJCQUFRLEVBQUU7Z0JBQUVDLG1CQUFtQjtZQUFLLEdBQ2pFRixNQUFNLENBQUNHLElBQUFBLG1CQUFtQixFQUFDO2dCQUFFRSxnQkFBZ0JVO1lBQW9CO1lBRXBFLE1BQU1HLGdCQUFnQlQsaUJBQVEsQ0FBQ0QsS0FBSyxDQUNsQ3ZCLGtCQUNBSSxlQUNBSjtZQUVGLElBQUksQ0FBQ0QsUUFBUSxDQUFDOEIsT0FBT2YsSUFBSSxDQUFDLEdBQUdtQjtRQUMvQjtJQUNGO0FBQ0YifQ==