"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const internalFields = [
    '__v'
];
const sanitizeInternalFields = (incomingDoc)=>{
    const id = incomingDoc._id ? JSON.parse(JSON.stringify(incomingDoc._id)) : incomingDoc.id;
    return Object.entries(incomingDoc).reduce((newDoc, [key, val])=>{
        if (key === '_id' || key === 'id') {
            return {
                ...newDoc,
                id
            };
        }
        if (internalFields.indexOf(key) > -1) {
            return newDoc;
        }
        return {
            ...newDoc,
            [key]: val
        };
    }, {});
};
const _default = sanitizeInternalFields;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvc2FuaXRpemVJbnRlcm5hbEZpZWxkcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBpbnRlcm5hbEZpZWxkcyA9IFsnX192J11cblxuY29uc3Qgc2FuaXRpemVJbnRlcm5hbEZpZWxkcyA9IDxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4+KGluY29taW5nRG9jOiBUKTogVCA9PiB7XG4gIGNvbnN0IGlkID0gaW5jb21pbmdEb2MuX2lkID8gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpbmNvbWluZ0RvYy5faWQpKSA6IGluY29taW5nRG9jLmlkXG5cbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGluY29taW5nRG9jKS5yZWR1Y2UoKG5ld0RvYywgW2tleSwgdmFsXSk6IFQgPT4ge1xuICAgIGlmIChrZXkgPT09ICdfaWQnIHx8IGtleSA9PT0gJ2lkJykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ubmV3RG9jLFxuICAgICAgICBpZCxcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW50ZXJuYWxGaWVsZHMuaW5kZXhPZihrZXkpID4gLTEpIHtcbiAgICAgIHJldHVybiBuZXdEb2NcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4ubmV3RG9jLFxuICAgICAgW2tleV06IHZhbCxcbiAgICB9XG4gIH0sIHt9IGFzIFQpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHNhbml0aXplSW50ZXJuYWxGaWVsZHNcbiJdLCJuYW1lcyI6WyJpbnRlcm5hbEZpZWxkcyIsInNhbml0aXplSW50ZXJuYWxGaWVsZHMiLCJpbmNvbWluZ0RvYyIsImlkIiwiX2lkIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiT2JqZWN0IiwiZW50cmllcyIsInJlZHVjZSIsIm5ld0RvYyIsImtleSIsInZhbCIsImluZGV4T2YiXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsiLCJtYXBwaW5ncyI6Ijs7OzsrQkF3QkE7OztlQUFBOzs7QUF4QkEsTUFBTUEsaUJBQWlCO0lBQUM7Q0FBTTtBQUU5QixNQUFNQyx5QkFBeUIsQ0FBb0NDO0lBQ2pFLE1BQU1DLEtBQUtELFlBQVlFLEdBQUcsR0FBR0MsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxTQUFTLENBQUNMLFlBQVlFLEdBQUcsS0FBS0YsWUFBWUMsRUFBRTtJQUV6RixPQUFPSyxPQUFPQyxPQUFPLENBQUNQLGFBQWFRLE1BQU0sQ0FBQyxDQUFDQyxRQUFRLENBQUNDLEtBQUtDLElBQUk7UUFDM0QsSUFBSUQsUUFBUSxTQUFTQSxRQUFRLE1BQU07WUFDakMsT0FBTztnQkFDTCxHQUFHRCxNQUFNO2dCQUNUUjtZQUNGO1FBQ0Y7UUFFQSxJQUFJSCxlQUFlYyxPQUFPLENBQUNGLE9BQU8sQ0FBQyxHQUFHO1lBQ3BDLE9BQU9EO1FBQ1Q7UUFFQSxPQUFPO1lBQ0wsR0FBR0EsTUFBTTtZQUNULENBQUNDLElBQUksRUFBRUM7UUFDVDtJQUNGLEdBQUcsQ0FBQztBQUNOO01BRUEsV0FBZVoifQ==